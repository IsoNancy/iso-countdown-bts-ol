<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>BTS 2025</title>

<style>
  :root{
    --navy:#06172d;
    --teal:#14e9d4;
    --coral:#f3555a;
    --amber:#f2aa33;
    --white:#fbfafa;
  }

  html,body{height:100%; margin:0; overflow:hidden; background:var(--navy);}
  body{font-family: Arial, Helvetica, sans-serif;}

  /* Conteneur plein écran */
  #viewport{
    position:fixed;
    inset:0;
    overflow:hidden;
    background:var(--navy);
  }

  /* Scène fixe 1920x1080 */
  #stage{
    position:absolute;
    width:1920px;
    height:1080px;
    left:0;
    top:0;
    transform-origin: 0 0;
    background: var(--navy);
  }

  .blob{
    position:absolute;
    width:900px; height:900px;
    border-radius:999px;
    filter: blur(70px);
    opacity:.9;
  }
  .blob.teal{  background: radial-gradient(circle at 30% 30%, var(--teal), transparent 60%); left:-250px; top:520px; }
  .blob.coral{ background: radial-gradient(circle at 40% 40%, var(--coral), transparent 60%); left:520px; top:220px; }
  .blob.amber{ background: radial-gradient(circle at 50% 50%, var(--amber), transparent 60%); left:1350px; top:520px; }

  .card{
    position:absolute;
    left:160px;
    top:100px;
    width:1600px;
    height:880px;

    background: rgba(6,23,45,.35);
    border: 1px solid rgba(251,250,250,.12);
    border-radius: 30px;
    padding: 55px;
    box-sizing: border-box;

    display:flex;
    flex-direction:column;
    justify-content:space-between;

    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    box-shadow: 0 20px 70px rgba(0,0,0,.35);
  }

  .bts{
    width: 100%;
    background: rgba(20,233,212,.95);
    color:#05243b;
    font-weight:900;
    letter-spacing:.08em;
    text-transform:uppercase;
    font-size:110px;
    text-align:center;
    padding: 26px 0;
    border-radius: 22px;
    transform: rotate(-2deg);
  }

  .j{
    text-align:center;
    font-size:100px;
    font-weight:900;
    color: var(--white);
  }

  .grid{
    display:flex;
    gap: 26px;
    justify-content:space-between;
  }

  .box{
    flex:1;
    background: rgba(255,255,255,.08);
    border: 1px solid rgba(251,250,250,.12);
    border-radius: 22px;
    padding: 40px 0;
    text-align:center;
  }

  .num{
    font-size:100px;
    font-weight:900;
    color: var(--white);
    line-height:1;
  }

  .lbl{
    margin-top: 14px;
    font-size:32px;
    letter-spacing:.08em;
    text-transform:uppercase;
    color: rgba(251,250,250,.78);
  }

  .slogan{
    width: 100%;
    text-align:center;
    font-size:46px;
    font-weight:700;
    color: var(--coral);
    padding: 22px 0;
    border-radius: 999px;
    background: rgba(255,255,255,0.08);
    border: 1px solid rgba(255,255,255,0.18);
    text-shadow:
      0 0 8px rgba(243,85,90,.45),
      0 0 16px rgba(243,85,90,.25);
  }
</style>
</head>

<body>
  <div id="viewport">
    <div id="stage">
      <div class="blob teal"></div>
      <div class="blob coral"></div>
      <div class="blob amber"></div>

      <div class="card">
        <div class="bts">BTS 2025</div>
        <div class="j" id="j">J-…</div>

        <div class="grid">
          <div class="box"><div class="num" id="d">—</div><div class="lbl">JOURS</div></div>
          <div class="box"><div class="num" id="h">—</div><div class="lbl">HEURES</div></div>
          <div class="box"><div class="num" id="m">—</div><div class="lbl">MINUTES</div></div>
          <div class="box"><div class="num" id="s">—</div><div class="lbl">SECONDES</div></div>
        </div>

        <div class="slogan">Travaillez avec régularité, réussissez avec sérénité.</div>
      </div>
    </div>
  </div>

<script>
  // -------- Robust fit (iSignage-friendly) --------
  function getViewportSize(){
    var v = document.getElementById("viewport");
    if (v && v.getBoundingClientRect){
      var r = v.getBoundingClientRect();
      var w = Math.max(1, Math.floor(r.width));
      var h = Math.max(1, Math.floor(r.height));
      return {w:w, h:h};
    }
    var w2 = document.documentElement.clientWidth || window.innerWidth || 1920;
    var h2 = document.documentElement.clientHeight || window.innerHeight || 1080;
    return {w:w2, h:h2};
  }

  function fitStage(){
    var size = getViewportSize();

    // fallback visualViewport (parfois plus fiable)
    if (window.visualViewport && window.visualViewport.width && window.visualViewport.height){
      size.w = Math.max(size.w, Math.floor(window.visualViewport.width));
      size.h = Math.max(size.h, Math.floor(window.visualViewport.height));
    }

    var scale = Math.min(size.w / 1920, size.h / 1080);

    var left = Math.round((size.w - 1920 * scale) / 2);
    var top  = Math.round((size.h - 1080 * scale) / 2);

    var stage = document.getElementById("stage");
    stage.style.transform = "translate(" + left + "px," + top + "px) scale(" + scale + ")";
  }

  // Lance plusieurs fois + boucle courte (webviews lents)
  function startFitLoop(ms){
    var start = Date.now();
    function loop(){
      fitStage();
      if (Date.now() - start < ms){
        requestAnimationFrame(loop);
      }
    }
    loop();
  }

  window.addEventListener("resize", function(){ startFitLoop(1200); });
  window.addEventListener("orientationchange", function(){ startFitLoop(1200); });

  // initial
  startFitLoop(2500);

  // -------- Countdown (ES5) --------
  // 18 mai 2026 09:30 Paris (UTC+02) => 07:30Z
  var targetUTCms = 1779089400000;

  function el(id){ return document.getElementById(id); }
  function pad2(n){ return (n < 10 ? "0" : "") + n; }

  function tick(){
    var now = new Date().getTime();
    var diff = targetUTCms - now;

    if (diff <= 0){
      el("j").innerHTML = "C’est parti !";
      el("d").innerHTML = "00";
      el("h").innerHTML = "00";
      el("m").innerHTML = "00";
      el("s").innerHTML = "00";
      return;
    }

    var totalSeconds = Math.floor(diff / 1000);
    var days = Math.floor(totalSeconds / (3600 * 24));
    var hours = Math.floor((totalSeconds % (3600 * 24)) / 3600);
    var minutes = Math.floor((totalSeconds % 3600) / 60);
    var seconds = totalSeconds % 60;

    el("j").innerHTML = "J-" + days;
    el("d").innerHTML = String(days);
    el("h").innerHTML = pad2(hours);
    el("m").innerHTML = pad2(minutes);
    el("s").innerHTML = pad2(seconds);
  }

  tick();
  setInterval(tick, 1000);
</script>

</body>
</html>
